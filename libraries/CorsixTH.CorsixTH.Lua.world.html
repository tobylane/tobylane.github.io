<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
    <link rel="icon" href="../CorsixTH/CorsixTH.ico" type="image/png" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>CorsixTH</h1>

<img src="../data/Original_Logo_Text.svg" />

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
</ul>


<h2>Libraries</h2>
<ul class="nowrap">
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.announcer.html">CorsixTH.CorsixTH.Lua.announcer</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.app.html">CorsixTH.CorsixTH.Lua.app</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.audio.html">CorsixTH.CorsixTH.Lua.audio</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.base_config.html">CorsixTH.CorsixTH.Lua.base_config</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.calls_dispatcher.html">CorsixTH.CorsixTH.Lua.calls_dispatcher</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.cheats.html">CorsixTH.CorsixTH.Lua.cheats</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.debug_script.html">CorsixTH.CorsixTH.Lua.debug_script</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.adviser.html">CorsixTH.CorsixTH.Lua.dialogs.adviser</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.bottom_panel.html">CorsixTH.CorsixTH.Lua.dialogs.bottom_panel</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.build_room.html">CorsixTH.CorsixTH.Lua.dialogs.build_room</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.confirm_dialog.html">CorsixTH.CorsixTH.Lua.dialogs.confirm_dialog</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.edit_room.html">CorsixTH.CorsixTH.Lua.dialogs.edit_room</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.fullscreen.html">CorsixTH.CorsixTH.Lua.dialogs.fullscreen</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.fullscreen.annual_report.html">CorsixTH.CorsixTH.Lua.dialogs.fullscreen.annual_report</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.fullscreen.bank_manager.html">CorsixTH.CorsixTH.Lua.dialogs.fullscreen.bank_manager</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.fullscreen.drug_casebook.html">CorsixTH.CorsixTH.Lua.dialogs.fullscreen.drug_casebook</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.fullscreen.fax.html">CorsixTH.CorsixTH.Lua.dialogs.fullscreen.fax</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.fullscreen.graphs.html">CorsixTH.CorsixTH.Lua.dialogs.fullscreen.graphs</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.fullscreen.hospital_policy.html">CorsixTH.CorsixTH.Lua.dialogs.fullscreen.hospital_policy</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.fullscreen.progress_report.html">CorsixTH.CorsixTH.Lua.dialogs.fullscreen.progress_report</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.fullscreen.staff_management.html">CorsixTH.CorsixTH.Lua.dialogs.fullscreen.staff_management</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.fullscreen.town_map.html">CorsixTH.CorsixTH.Lua.dialogs.fullscreen.town_map</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.furnish_corridor.html">CorsixTH.CorsixTH.Lua.dialogs.furnish_corridor</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.information.html">CorsixTH.CorsixTH.Lua.dialogs.information</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.machine_dialog.html">CorsixTH.CorsixTH.Lua.dialogs.machine_dialog</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.menu.html">CorsixTH.CorsixTH.Lua.dialogs.menu</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.message.html">CorsixTH.CorsixTH.Lua.dialogs.message</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.patient.html">CorsixTH.CorsixTH.Lua.dialogs.patient</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.place_objects.html">CorsixTH.CorsixTH.Lua.dialogs.place_objects</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.place_staff.html">CorsixTH.CorsixTH.Lua.dialogs.place_staff</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.queue_dialog.html">CorsixTH.CorsixTH.Lua.dialogs.queue_dialog</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizable.html">CorsixTH.CorsixTH.Lua.dialogs.resizable</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.calls_dispatcher.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.calls_dispatcher</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.cheats_dialog.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.cheats_dialog</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.customise.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.customise</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.directory_browser.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.directory_browser</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.dropdown.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.dropdown</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.file_browser.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.file_browser</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.file_browsers.choose_font.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.file_browsers.choose_font</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.file_browsers.load_game.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.file_browsers.load_game</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.file_browsers.load_map.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.file_browsers.load_map</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.file_browsers.save_game.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.file_browsers.save_game</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.file_browsers.save_map.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.file_browsers.save_map</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.folder_settings.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.folder_settings</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.hotkey_assign.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.hotkey_assign</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.lua_console.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.lua_console</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.main_menu.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.main_menu</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.map_editor.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.map_editor</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.menu_list_dialog.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.menu_list_dialog</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.menu_list_dialogs.custom_campaign.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.menu_list_dialogs.custom_campaign</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.menu_list_dialogs.custom_game.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.menu_list_dialogs.custom_game</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.new_game.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.new_game</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.options.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.options</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.tip_of_the_day.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.tip_of_the_day</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.resizables.update.html">CorsixTH.CorsixTH.Lua.dialogs.resizables.update</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.staff_dialog.html">CorsixTH.CorsixTH.Lua.dialogs.staff_dialog</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.staff_rise.html">CorsixTH.CorsixTH.Lua.dialogs.staff_rise</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.tree_ctrl.html">CorsixTH.CorsixTH.Lua.dialogs.tree_ctrl</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.dialogs.watch.html">CorsixTH.CorsixTH.Lua.dialogs.watch</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.entities.humanoid.html">CorsixTH.CorsixTH.Lua.entities.humanoid</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.entities.humanoids.patient.html">CorsixTH.CorsixTH.Lua.entities.humanoids.patient</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.entities.humanoids.staff.html">CorsixTH.CorsixTH.Lua.entities.humanoids.staff</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.entities.humanoids.staff.doctor.html">CorsixTH.CorsixTH.Lua.entities.humanoids.staff.doctor</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.entities.humanoids.staff.handyman.html">CorsixTH.CorsixTH.Lua.entities.humanoids.staff.handyman</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.entities.humanoids.staff.nurse.html">CorsixTH.CorsixTH.Lua.entities.humanoids.staff.nurse</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.entities.humanoids.staff.receptionist.html">CorsixTH.CorsixTH.Lua.entities.humanoids.staff.receptionist</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.entities.humanoids.vip.html">CorsixTH.CorsixTH.Lua.entities.humanoids.vip</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.entities.machine.html">CorsixTH.CorsixTH.Lua.entities.machine</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.entities.object.html">CorsixTH.CorsixTH.Lua.entities.object</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.entity.html">CorsixTH.CorsixTH.Lua.entity</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.filesystem.html">CorsixTH.CorsixTH.Lua.filesystem</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.game_ui.html">CorsixTH.CorsixTH.Lua.game_ui</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.graphics.html">CorsixTH.CorsixTH.Lua.graphics</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.hospital.html">CorsixTH.CorsixTH.Lua.hospital</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.hospitals.player_hospital.html">CorsixTH.CorsixTH.Lua.hospitals.player_hospital</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.humanoid_action.html">CorsixTH.CorsixTH.Lua.humanoid_action</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.humanoid_actions.die.html">CorsixTH.CorsixTH.Lua.humanoid_actions.die</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.humanoid_actions.idle.html">CorsixTH.CorsixTH.Lua.humanoid_actions.idle</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.humanoid_actions.knock_door.html">CorsixTH.CorsixTH.Lua.humanoid_actions.knock_door</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.humanoid_actions.multi_use_object.html">CorsixTH.CorsixTH.Lua.humanoid_actions.multi_use_object</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.humanoid_actions.queue.html">CorsixTH.CorsixTH.Lua.humanoid_actions.queue</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.humanoid_actions.seek_room.html">CorsixTH.CorsixTH.Lua.humanoid_actions.seek_room</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.humanoid_actions.spawn.html">CorsixTH.CorsixTH.Lua.humanoid_actions.spawn</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.humanoid_actions.use_object.html">CorsixTH.CorsixTH.Lua.humanoid_actions.use_object</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.humanoid_actions.use_screen.html">CorsixTH.CorsixTH.Lua.humanoid_actions.use_screen</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.humanoid_actions.walk.html">CorsixTH.CorsixTH.Lua.humanoid_actions.walk</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.map.html">CorsixTH.CorsixTH.Lua.map</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.movie_player.html">CorsixTH.CorsixTH.Lua.movie_player</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.objects.bench.html">CorsixTH.CorsixTH.Lua.objects.bench</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.objects.chair.html">CorsixTH.CorsixTH.Lua.objects.chair</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.objects.door.html">CorsixTH.CorsixTH.Lua.objects.door</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.objects.helicopter.html">CorsixTH.CorsixTH.Lua.objects.helicopter</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.objects.litter.html">CorsixTH.CorsixTH.Lua.objects.litter</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.objects.plant.html">CorsixTH.CorsixTH.Lua.objects.plant</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.objects.reception_desk.html">CorsixTH.CorsixTH.Lua.objects.reception_desk</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.persistance.html">CorsixTH.CorsixTH.Lua.persistance</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.queue.html">CorsixTH.CorsixTH.Lua.queue</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.research_department.html">CorsixTH.CorsixTH.Lua.research_department</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.room.html">CorsixTH.CorsixTH.Lua.room</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.rooms.operating_theatre.html">CorsixTH.CorsixTH.Lua.rooms.operating_theatre</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.run_debugger.html">CorsixTH.CorsixTH.Lua.run_debugger</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.staff_profile.html">CorsixTH.CorsixTH.Lua.staff_profile</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.strict.html">CorsixTH.CorsixTH.Lua.strict</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.string_extensions.html">CorsixTH.CorsixTH.Lua.string_extensions</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.strings.html">CorsixTH.CorsixTH.Lua.strings</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.ui.html">CorsixTH.CorsixTH.Lua.ui</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.utility.html">CorsixTH.CorsixTH.Lua.utility</a></li>
  <li><a href="../libraries/CorsixTH.CorsixTH.Lua.window.html">CorsixTH.CorsixTH.Lua.window</a></li>
  <li><strong>CorsixTH.CorsixTH.Lua.world</strong></li>
</ul>
<h2>Manual</h2>
<ul class="nowrap">
  <li><a href="../manual/Readme.md.html">Readme</a></li>
</ul>
</ul>

</div>

<div id="content">

<h1>Module <code>CorsixTH.CorsixTH.Lua.world</code></h1>
<p>Manages entities, rooms, and the date.</p>
<p></p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#World:_createMapObject">World:_createMapObject (object)</a></td>
	<td class="summary">Internal function for placing an object from the map file.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:addObjectToTile">World:addObjectToTile (object, x, y)</a></td>
	<td class="summary">Notify the world of a new object being placed somewhere in the world
 See also `World:removeObjectFromTile`</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:afterLoad">World:afterLoad (old, new)</a></td>
	<td class="summary">Let the world react to and old save game.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:calculateSpawnTiles">World:calculateSpawnTiles ()</a></td>
	<td class="summary">Identify the tiles on the map suitable for spawning `Humanoid`s from.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:checkWinningConditions">World:checkWinningConditions (player_no)</a></td>
	<td class="summary">Checks if all goals have been achieved or if the player has lost.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:clearCaches">World:clearCaches ()</a></td>
	<td class="summary">Clear all internal caches which are dependent upon map state / object position</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:computeNextEmergencyDates">World:computeNextEmergencyDates (emergency)</a></td>
	<td class="summary">Generate the dates for the next emergency</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:createMapObjects">World:createMapObjects (objects)</a></td>
	<td class="summary">Place objects from a map file onto the map.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:date">World:date ()</a></td>
	<td class="summary">Get todays date.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:debugDisableSalaryRaise">World:debugDisableSalaryRaise (mode)</a></td>
	<td class="summary">Enable or disable salary raise events.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:determineWinningConditions">World:determineWinningConditions ()</a></td>
	<td class="summary">Load goals to win and lose from the map, and store them in 'self.goals'.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:dumpGameLog">World:dumpGameLog ()</a></td>
	<td class="summary">Dump the contents of the game log into a file.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:gameLog">World:gameLog (message)</a></td>
	<td class="summary">Append a message to the game log.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getAvailableRooms">World:getAvailableRooms ()</a></td>
	<td class="summary">Find the rooms available at the level.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getCampaignData">World:getCampaignData ()</a></td>
	<td class="summary">Collect the settings that should be reused in the next world</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getCampaignWinningText">World:getCampaignWinningText (player_no)</a></td>
	<td class="summary">Finds what text the winning fax should contain, and which choices the player has.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getCurrentSpeed">World:getCurrentSpeed ()</a></td>
	<td class="summary">Return the name of the current speed, relating to a key in tick_rates.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getHospital">World:getHospital (x, y)</a></td>
	<td class="summary">Get the hospital at a given tile location.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getLocalPlayerHospital">World:getLocalPlayerHospital ()</a></td>
	<td class="summary">Get the hospital controlled by the (single) player.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getObject">World:getObject (x, y, id)</a></td>
	<td class="summary">Retrieve one object from a given position.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getObjects">World:getObjects (x, y)</a></td>
	<td class="summary">Retrieve all objects from a given position.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getReputationImpact">World:getReputationImpact (hospital)</a></td>
	<td class="summary">Computes the impact of hospital reputation on the spawn rate.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getRoom">World:getRoom (x, y)</a></td>
	<td class="summary">Get the room at a given tile location.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getRoomNameAndRequiredStaffName">World:getRoomNameAndRequiredStaffName (room_id)</a></td>
	<td class="summary">Returns localized name of the room, internal required staff name
 and localized name of staff required.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:initLevel">World:initLevel (app, avail_rooms)</a></td>
	<td class="summary">Initialize the game level (available diseases, winning conditions).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:isCurrentSpeed">World:isCurrentSpeed (speed)</a></td>
	<td class="summary">Return true if the given speed the same as the current speed.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:isFootprintTileBuildableOrPassable">World:isFootprintTileBuildableOrPassable (x, y, tile, footprint, requirement_flag, player_id)</a></td>
	<td class="summary">A footprint tile will either need to be buildable or passable so this function
 checks if its buildable/passable using the tile's appropriate flag and then returns this
 flag's boolean value or false if the tile isn't valid.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:isOnMap">World:isOnMap (x, y)</a></td>
	<td class="summary">Test whether the given coordinate is on the map.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:isSystemPauseActive">World:isSystemPauseActive ()</a></td>
	<td class="summary">Reports the system pause status</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:isTilePartOfNearbyObject">World:isTilePartOfNearbyObject (x, y, distance)</a></td>
	<td class="summary">Checks whether the given tile is part of a nearby object (walkable tiles
  count as part of the object)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:isUserActionProhibited">World:isUserActionProhibited ()</a></td>
	<td class="summary">Function to check if player can perform actions when paused</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:localiseInitial">World:localiseInitial (profile)</a></td>
	<td class="summary">Change the staff name first letter to one from the current language
 from the seed (generated here or in staff_profile.lua)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:loseGame">World:loseGame (player_no, reason, limit)</a></td>
	<td class="summary">Cause the player with the player number player_no to lose.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:markRoomAsBuilt">World:markRoomAsBuilt (room)</a></td>
	<td class="summary">Called when a room has been completely built and is ready to use.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:newFloatingDollarSign">World:newFloatingDollarSign (patient, amount)</a></td>
	<td class="summary">Setup an animated floating money amount above a patient.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:newObject">World:newObject (id, x, y, flags, name)</a></td>
	<td class="summary">Creates a new object by finding the object_type from the "id" variable and
  calls its class constructor.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:nextEmergency">World:nextEmergency ()</a></td>
	<td class="summary">Called when it is time to determine when the next emergency should happen</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:notifyRoomRemoved">World:notifyRoomRemoved (room)</a></td>
	<td class="summary">Called when a room has been deactivated (crashed or edited)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:objectPlaced">World:objectPlaced (entity, id)</a></td>
	<td class="summary">Notifies the world that an object has been placed, notifying
  interested entities in the vicinity of the new arrival.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:onTick">World:onTick ()</a></td>
	<td class="summary">World ticks are translated to game ticks (or hours) depending on the
 current speed of the game.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:pauseOrUnpause">World:pauseOrUnpause ()</a></td>
	<td class="summary">Dedicated function to allow unpausing by pressing 'p' again</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:prepareFootprintTilesForBuild">World:prepareFootprintTilesForBuild (object_footprint, x, y)</a></td>
	<td class="summary">Prepare all tiles of the footprint for build of an object.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:prepareRectangleTilesForBuild">World:prepareRectangleTilesForBuild (x, y, w, h)</a></td>
	<td class="summary">Prepare all tiles in the given rectangle for building a room.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:removeAllLitter">World:removeAllLitter (x, y)</a></td>
	<td class="summary">Remove all cleanable litter from a given tile.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:removeObjectFromTile">World:removeObjectFromTile (object, x, y)</a></td>
	<td class="summary">Notify the world of an object being removed from a tile
 See also `World:addObjectToTile`</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:resetAnimations">World:resetAnimations ()</a></td>
	<td class="summary">Because the save file only saves one thob per tile if they are more that information
 will be lost.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:scheduleRandomEmergency">World:scheduleRandomEmergency (control)</a></td>
	<td class="summary">If a level file specifies random emergencies we make the next one as defined by the mean/variance given</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:setCampaignData">World:setCampaignData (campaign_data)</a></td>
	<td class="summary">Restore the settings from the previous world</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:setEndMonth">World:setEndMonth ()</a></td>
	<td class="summary">Change the date of the game to the last hour of this month.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:setEndYear">World:setEndYear ()</a></td>
	<td class="summary">Change the date of the game to the last hour of this year.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:setPlotOwner">World:setPlotOwner (parcel, owner)</a></td>
	<td class="summary">Change owner of a plot.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:setSystemPause">World:setSystemPause (state)</a></td>
	<td class="summary">Sets the system_pause parameter</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:setUI">World:setUI (ui)</a></td>
	<td class="summary">Register key shortcuts for controlling the world (game speed, etc.)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:spawnPatient">World:spawnPatient (hospital)</a></td>
	<td class="summary">Spawn a patient from a spawn point for the given hospital.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:tickEarthquake">World:tickEarthquake ()</a></td>
	<td class="summary">Perform actions to simulate an active earthquake.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:updateInitialsCache">World:updateInitialsCache ()</a></td>
	<td class="summary">Refresh cache of letters in current language to be used for staff member's initials</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:wasEmergencySkipped">World:wasEmergencySkipped (prev_date, new_date)</a></td>
	<td class="summary">Checks if a time jump caused an emergency to be missed</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:willObjectsFootprintTileBeWithinItsAllowedRoomIfLocatedAt">World:willObjectsFootprintTileBeWithinItsAllowedRoomIfLocatedAt (x, y, object, allowed_rooms_id_parameter)</a></td>
	<td class="summary"></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:winGame">World:winGame (player_no)</a></td>
	<td class="summary">Process that the given player number won the game.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:wouldNonSideObjectBreakPathfindingIfSpawnedAt">World:wouldNonSideObjectBreakPathfindingIfSpawnedAt (x, y, object, objects_orientation, spawn_rooms_id)</a></td>
	<td class="summary">Check that pathfinding still works, i.e.</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "World:_createMapObject"></a>
    <strong>World:_createMapObject (object)</strong>
    <a style="float:right;" href="../source/world.lua.html#719">line 719</a>
    </dt>
    <dd>
    Internal function for placing an object from the map file.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">object</span>
         Object to place.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:addObjectToTile"></a>
    <strong>World:addObjectToTile (object, x, y)</strong>
    <a style="float:right;" href="../source/world.lua.html#2189">line 2189</a>
    </dt>
    <dd>
    Notify the world of a new object being placed somewhere in the world
 See also `World:removeObjectFromTile`


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">object</span>
         (Object) The object being placed
        </li>
        <li><span class="parameter">x</span>
         (integer) The X-coordinate of the tile being placed upon
        </li>
        <li><span class="parameter">y</span>
         (integer) The Y-coordinate of the tile being placed upon
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:afterLoad"></a>
    <strong>World:afterLoad (old, new)</strong>
    <a style="float:right;" href="../source/world.lua.html#2408">line 2408</a>
    </dt>
    <dd>
    Let the world react to and old save game.  First it gets the chance to
 do things for itself, and then it calls corresponding functions for
 the hospitals, entities and rooms in that order.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">old</span>
         The old version of the save game.
        </li>
        <li><span class="parameter">new</span>
         The current version of the save game format.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:calculateSpawnTiles"></a>
    <strong>World:calculateSpawnTiles ()</strong>
    <a style="float:right;" href="../source/world.lua.html#411">line 411</a>
    </dt>
    <dd>
    Identify the tiles on the map suitable for spawning `Humanoid`s from.







</dd>
    <dt>
    <a name = "World:checkWinningConditions"></a>
    <strong>World:checkWinningConditions (player_no)</strong>
    <a style="float:right;" href="../source/world.lua.html#1432">line 1432</a>
    </dt>
    <dd>
    Checks if all goals have been achieved or if the player has lost.
 Returns a table that always contains a state string ("win", "lose" or "nothing").
 If the state is "lose", the table also contains a reason string,
 which corresponds to the criterion name the player lost to
 (reputation, balance, percentage_killed) and a number limit which
 corresponds to the limit the player passed.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">player_no</span>
         The index of the player to check in the world's list of hospitals
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:clearCaches"></a>
    <strong>World:clearCaches ()</strong>
    <a style="float:right;" href="../source/world.lua.html#817">line 817</a>
    </dt>
    <dd>
    Clear all internal caches which are dependent upon map state / object position







</dd>
    <dt>
    <a name = "World:computeNextEmergencyDates"></a>
    <strong>World:computeNextEmergencyDates (emergency)</strong>
    <a style="float:right;" href="../source/world.lua.html#1347">line 1347</a>
    </dt>
    <dd>
    Generate the dates for the next emergency


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">emergency</span>
         The next scheduled emergency to take place
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (boolean) true if emergency successfully scheduled
    </ol>




</dd>
    <dt>
    <a name = "World:createMapObjects"></a>
    <strong>World:createMapObjects (objects)</strong>
    <a style="float:right;" href="../source/world.lua.html#708">line 708</a>
    </dt>
    <dd>
    Place objects from a map file onto the map.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">objects</span>
         Objects to place.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:date"></a>
    <strong>World:date ()</strong>
    <a style="float:right;" href="../source/world.lua.html#2853">line 2853</a>
    </dt>
    <dd>
    Get todays date.



    <h3>Returns:</h3>
    <ol>

        (Date) Current game date.
    </ol>




</dd>
    <dt>
    <a name = "World:debugDisableSalaryRaise"></a>
    <strong>World:debugDisableSalaryRaise (mode)</strong>
    <a style="float:right;" href="../source/world.lua.html#653">line 653</a>
    </dt>
    <dd>
    Enable or disable salary raise events.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">mode</span>
         (boolean) If true, do not create salary raise events.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:determineWinningConditions"></a>
    <strong>World:determineWinningConditions ()</strong>
    <a style="float:right;" href="../source/world.lua.html#303">line 303</a>
    </dt>
    <dd>
    Load goals to win and lose from the map, and store them in 'self.goals'.
 Also set 'self.winning_goal_count'.







</dd>
    <dt>
    <a name = "World:dumpGameLog"></a>
    <strong>World:dumpGameLog ()</strong>
    <a style="float:right;" href="../source/world.lua.html#2339">line 2339</a>
    </dt>
    <dd>
    Dump the contents of the game log into a file.
 This is automatically done on each error.







</dd>
    <dt>
    <a name = "World:gameLog"></a>
    <strong>World:gameLog (message)</strong>
    <a style="float:right;" href="../source/world.lua.html#2329">line 2329</a>
    </dt>
    <dd>
    Append a message to the game log.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">message</span>
         (string) The message to add.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:getAvailableRooms"></a>
    <strong>World:getAvailableRooms ()</strong>
    <a style="float:right;" href="../source/world.lua.html#368">line 368</a>
    </dt>
    <dd>
    Find the rooms available at the level.



    <h3>Returns:</h3>
    <ol>

        (list) Available rooms, with discovery state at start, and build_cost.
    </ol>




</dd>
    <dt>
    <a name = "World:getCampaignData"></a>
    <strong>World:getCampaignData ()</strong>
    <a style="float:right;" href="../source/world.lua.html#2859">line 2859</a>
    </dt>
    <dd>
    Collect the settings that should be reused in the next world



    <h3>Returns:</h3>
    <ol>

        (table) world and hospital campaign data
    </ol>




</dd>
    <dt>
    <a name = "World:getCampaignWinningText"></a>
    <strong>World:getCampaignWinningText (player_no)</strong>
    <a style="float:right;" href="../source/world.lua.html#1529">line 1529</a>
    </dt>
    <dd>
    Finds what text the winning fax should contain, and which choices the player has.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">player_no</span>
         (integer) Which player that will see the message.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

         (string, string, string) Text to show in the fax, text that accompanies
       the "continue"-choice the player has, and whether it is the "return_to_main_menu"
       choice or the "accept_new_level" choice.
    </ol>




</dd>
    <dt>
    <a name = "World:getCurrentSpeed"></a>
    <strong>World:getCurrentSpeed ()</strong>
    <a style="float:right;" href="../source/world.lua.html#903">line 903</a>
    </dt>
    <dd>
    Return the name of the current speed, relating to a key in tick_rates.







</dd>
    <dt>
    <a name = "World:getHospital"></a>
    <strong>World:getHospital (x, y)</strong>
    <a style="float:right;" href="../source/world.lua.html#2301">line 2301</a>
    </dt>
    <dd>
    Get the hospital at a given tile location.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
         (int) X position of the queried tile.
        </li>
        <li><span class="parameter">y</span>
         (int) Y position of the queried tile.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (Hospital) Hospital at the given location or 'nil'.
    </ol>




</dd>
    <dt>
    <a name = "World:getLocalPlayerHospital"></a>
    <strong>World:getLocalPlayerHospital ()</strong>
    <a style="float:right;" href="../source/world.lua.html#404">line 404</a>
    </dt>
    <dd>
    Get the hospital controlled by the (single) player.



    <h3>Returns:</h3>
    <ol>

        (Hospital) The hospital controlled by the (single) player.
    </ol>




</dd>
    <dt>
    <a name = "World:getObject"></a>
    <strong>World:getObject (x, y, id)</strong>
    <a style="float:right;" href="../source/world.lua.html#2218">line 2218</a>
    </dt>
    <dd>
    Retrieve one object from a given position.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
         (int) X position of the object to retrieve.
        </li>
        <li><span class="parameter">y</span>
         (int) Y position of the object to retrieve.
        </li>
        <li><span class="parameter">id</span>
         Id to search, nil gets first object, string gets first object with
 that id, set of strings gets first object that matches an entry in the set.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (Object or nil) The found object, or nil if the object is not found.
    </ol>




</dd>
    <dt>
    <a name = "World:getObjects"></a>
    <strong>World:getObjects (x, y)</strong>
    <a style="float:right;" href="../source/world.lua.html#2207">line 2207</a>
    </dt>
    <dd>
    Retrieve all objects from a given position.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
         (int) X position of the object to retrieve.
        </li>
        <li><span class="parameter">y</span>
         (int) Y position of the object to retrieve.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:getReputationImpact"></a>
    <strong>World:getReputationImpact (hospital)</strong>
    <a style="float:right;" href="../source/world.lua.html#1288">line 1288</a>
    </dt>
    <dd>
    Computes the impact of hospital reputation on the spawn rate.
 The relation between reputation and its impact is linear.
 Returns a percentage (as a float):
     1% if reputation < 253
    60% if reputation == 400
   100% if reputation == 500
   140% if reputation == 600
   180% if reputation == 700
   300% if reputation == 1000


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">hospital</span>
         (hospital): the hospital used to compute the
reputation impact
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:getRoom"></a>
    <strong>World:getRoom (x, y)</strong>
    <a style="float:right;" href="../source/world.lua.html#2293">line 2293</a>
    </dt>
    <dd>
    Get the room at a given tile location.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
         (int) X position of the queried tile.
        </li>
        <li><span class="parameter">y</span>
         (int) Y position of the queried tile.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (Room) Room of the tile, or 'nil'.
    </ol>




</dd>
    <dt>
    <a name = "World:getRoomNameAndRequiredStaffName"></a>
    <strong>World:getRoomNameAndRequiredStaffName (room_id)</strong>
    <a style="float:right;" href="../source/world.lua.html#2311">line 2311</a>
    </dt>
    <dd>
    Returns localized name of the room, internal required staff name
 and localized name of staff required.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">room_id</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:initLevel"></a>
    <strong>World:initLevel (app, avail_rooms)</strong>
    <a style="float:right;" href="../source/world.lua.html#252">line 252</a>
    </dt>
    <dd>
    Initialize the game level (available diseases, winning conditions).


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">app</span>
         Game application.
        </li>
        <li><span class="parameter">avail_rooms</span>
         (list) Available rooms in the level.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:isCurrentSpeed"></a>
    <strong>World:isCurrentSpeed (speed)</strong>
    <a style="float:right;" href="../source/world.lua.html#897">line 897</a>
    </dt>
    <dd>
    Return true if the given speed the same as the current speed.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">speed</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:isFootprintTileBuildableOrPassable"></a>
    <strong>World:isFootprintTileBuildableOrPassable (x, y, tile, footprint, requirement_flag, player_id)</strong>
    <a style="float:right;" href="../source/world.lua.html#2029">line 2029</a>
    </dt>
    <dd>
    A footprint tile will either need to be buildable or passable so this function
 checks if its buildable/passable using the tile's appropriate flag and then returns this
 flag's boolean value or false if the tile isn't valid.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>

        </li>
        <li><span class="parameter">y</span>

        </li>
        <li><span class="parameter">tile</span>

        </li>
        <li><span class="parameter">footprint</span>

        </li>
        <li><span class="parameter">requirement_flag</span>

        </li>
        <li><span class="parameter">player_id</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:isOnMap"></a>
    <strong>World:isOnMap (x, y)</strong>
    <a style="float:right;" href="../source/world.lua.html#1992">line 1992</a>
    </dt>
    <dd>
    Test whether the given coordinate is on the map.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
         (int) X position of the coordinate to test.
        </li>
        <li><span class="parameter">y</span>
         (int) Y position of the coordinate to test.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (boolean) Whether the provided position is on the map.
    </ol>




</dd>
    <dt>
    <a name = "World:isSystemPauseActive"></a>
    <strong>World:isSystemPauseActive ()</strong>
    <a style="float:right;" href="../source/world.lua.html#970">line 970</a>
    </dt>
    <dd>
    Reports the system pause status



    <h3>Returns:</h3>
    <ol>

        (bool) true is system pause is active, else false
    </ol>




</dd>
    <dt>
    <a name = "World:isTilePartOfNearbyObject"></a>
    <strong>World:isTilePartOfNearbyObject (x, y, distance)</strong>
    <a style="float:right;" href="../source/world.lua.html#1713">line 1713</a>
    </dt>
    <dd>
    Checks whether the given tile is part of a nearby object (walkable tiles
  count as part of the object)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
         X position of the given tile.
        </li>
        <li><span class="parameter">y</span>
         Y position of the given tile.
        </li>
        <li><span class="parameter">distance</span>
         The number of tiles away from the tile to search.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (boolean) Whether the tile is part of a nearby object.
    </ol>




</dd>
    <dt>
    <a name = "World:isUserActionProhibited"></a>
    <strong>World:isUserActionProhibited ()</strong>
    <a style="float:right;" href="../source/world.lua.html#976">line 976</a>
    </dt>
    <dd>
    Function to check if player can perform actions when paused



    <h3>Returns:</h3>
    <ol>

        (bool) Returns true if player hasn't allowed editing while paused
    </ol>




</dd>
    <dt>
    <a name = "World:localiseInitial"></a>
    <strong>World:localiseInitial (profile)</strong>
    <a style="float:right;" href="../source/world.lua.html#2390">line 2390</a>
    </dt>
    <dd>
    Change the staff name first letter to one from the current language
 from the seed (generated here or in staff_profile.lua)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">profile</span>
         (table) The profile of the staff member
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:loseGame"></a>
    <strong>World:loseGame (player_no, reason, limit)</strong>
    <a style="float:right;" href="../source/world.lua.html#1592">line 1592</a>
    </dt>
    <dd>
    Cause the player with the player number player_no to lose.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">player_no</span>
         (number) The number of the player which should lose.
        </li>
        <li><span class="parameter">reason</span>
         (string) [optional] The name of the criterion the player lost to.
        </li>
        <li><span class="parameter">limit</span>
         (number) [optional] The number the player went over/under which caused him to lose.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:markRoomAsBuilt"></a>
    <strong>World:markRoomAsBuilt (room)</strong>
    <a style="float:right;" href="../source/world.lua.html#794">line 794</a>
    </dt>
    <dd>
    Called when a room has been completely built and is ready to use.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">room</span>
         (Room) The new room.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:newFloatingDollarSign"></a>
    <strong>World:newFloatingDollarSign (patient, amount)</strong>
    <a style="float:right;" href="../source/world.lua.html#1891">line 1891</a>
    </dt>
    <dd>
    Setup an animated floating money amount above a patient.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">patient</span>
         Patient to float above.
        </li>
        <li><span class="parameter">amount</span>
         Amount of money to display.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:newObject"></a>
    <strong>World:newObject (id, x, y, flags, name)</strong>
    <a style="float:right;" href="../source/world.lua.html#1947">line 1947</a>
    </dt>
    <dd>
    Creates a new object by finding the object_type from the "id" variable and
  calls its class constructor.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">id</span>
         (string) The unique id of the object to be created.
        </li>
        <li><span class="parameter">x</span>
         X position of the new object.
        </li>
        <li><span class="parameter">y</span>
         Y position of the new object.
        </li>
        <li><span class="parameter">flags</span>
         Flags of the new object.
        </li>
        <li><span class="parameter">name</span>
         Name of the new object.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        The created object.
    </ol>




</dd>
    <dt>
    <a name = "World:nextEmergency"></a>
    <strong>World:nextEmergency ()</strong>
    <a style="float:right;" href="../source/world.lua.html#1300">line 1300</a>
    </dt>
    <dd>
    Called when it is time to determine when the next emergency should happen







</dd>
    <dt>
    <a name = "World:notifyRoomRemoved"></a>
    <strong>World:notifyRoomRemoved (room)</strong>
    <a style="float:right;" href="../source/world.lua.html#809">line 809</a>
    </dt>
    <dd>
    Called when a room has been deactivated (crashed or edited)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">room</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:objectPlaced"></a>
    <strong>World:objectPlaced (entity, id)</strong>
    <a style="float:right;" href="../source/world.lua.html#2146">line 2146</a>
    </dt>
    <dd>
    Notifies the world that an object has been placed, notifying
  interested entities in the vicinity of the new arrival.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">entity</span>
         (Entity) The entity that was just placed.
        </li>
        <li><span class="parameter">id</span>
         (optional string) That entity's id.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:onTick"></a>
    <strong>World:onTick ()</strong>
    <a style="float:right;" href="../source/world.lua.html#1000">line 1000</a>
    </dt>
    <dd>
    World ticks are translated to game ticks (or hours) depending on the
 current speed of the game.  There are 50 hours in a TH day.







</dd>
    <dt>
    <a name = "World:pauseOrUnpause"></a>
    <strong>World:pauseOrUnpause ()</strong>
    <a style="float:right;" href="../source/world.lua.html#953">line 953</a>
    </dt>
    <dd>
    Dedicated function to allow unpausing by pressing 'p' again







</dd>
    <dt>
    <a name = "World:prepareFootprintTilesForBuild"></a>
    <strong>World:prepareFootprintTilesForBuild (object_footprint, x, y)</strong>
    <a style="float:right;" href="../source/world.lua.html#2260">line 2260</a>
    </dt>
    <dd>
    Prepare all tiles of the footprint for build of an object.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">object_footprint</span>
         Footprint of the object being build.
        </li>
        <li><span class="parameter">x</span>
         (int) X position of the object
        </li>
        <li><span class="parameter">y</span>
         (int) Y position of the object
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:prepareRectangleTilesForBuild"></a>
    <strong>World:prepareRectangleTilesForBuild (x, y, w, h)</strong>
    <a style="float:right;" href="../source/world.lua.html#2276">line 2276</a>
    </dt>
    <dd>
    Prepare all tiles in the given rectangle for building a room.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
         (int) Start x position of the area.
        </li>
        <li><span class="parameter">y</span>
         (int) Start y position of the area.
        </li>
        <li><span class="parameter">w</span>
         (int) Number of tiles in x direction.
        </li>
        <li><span class="parameter">h</span>
         (int) Number of tiles in y direction.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:removeAllLitter"></a>
    <strong>World:removeAllLitter (x, y)</strong>
    <a style="float:right;" href="../source/world.lua.html#2243">line 2243</a>
    </dt>
    <dd>
    Remove all cleanable litter from a given tile.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
         (int) X position of the tile to clean.
        </li>
        <li><span class="parameter">y</span>
         (int) Y position of the tile to clean.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:removeObjectFromTile"></a>
    <strong>World:removeObjectFromTile (object, x, y)</strong>
    <a style="float:right;" href="../source/world.lua.html#2167">line 2167</a>
    </dt>
    <dd>
    Notify the world of an object being removed from a tile
 See also `World:addObjectToTile`


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">object</span>
         (Object) The object being removed.
        </li>
        <li><span class="parameter">x</span>
         (integer) The X-coordinate of the tile which the object was on
        </li>
        <li><span class="parameter">y</span>
         (integer) The Y-coordinate of the tile which the object was on
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:resetAnimations"></a>
    <strong>World:resetAnimations ()</strong>
    <a style="float:right;" href="../source/world.lua.html#2353">line 2353</a>
    </dt>
    <dd>
    Because the save file only saves one thob per tile if they are more that information
 will be lost.  To solve this after a load we need to set again all the thobs on each tile.







</dd>
    <dt>
    <a name = "World:scheduleRandomEmergency"></a>
    <strong>World:scheduleRandomEmergency (control)</strong>
    <a style="float:right;" href="../source/world.lua.html#1329">line 1329</a>
    </dt>
    <dd>
    If a level file specifies random emergencies we make the next one as defined by the mean/variance given


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">control</span>
         (table) Contains emergency information from level file
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:setCampaignData"></a>
    <strong>World:setCampaignData (campaign_data)</strong>
    <a style="float:right;" href="../source/world.lua.html#2870">line 2870</a>
    </dt>
    <dd>
    Restore the settings from the previous world


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">campaign_data</span>
         (table) world and hospital campaign data
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:setEndMonth"></a>
    <strong>World:setEndMonth ()</strong>
    <a style="float:right;" href="../source/world.lua.html#1099">line 1099</a>
    </dt>
    <dd>
    Change the date of the game to the last hour of this month.







</dd>
    <dt>
    <a name = "World:setEndYear"></a>
    <strong>World:setEndYear ()</strong>
    <a style="float:right;" href="../source/world.lua.html#1110">line 1110</a>
    </dt>
    <dd>
    Change the date of the game to the last hour of this year.







</dd>
    <dt>
    <a name = "World:setPlotOwner"></a>
    <strong>World:setPlotOwner (parcel, owner)</strong>
    <a style="float:right;" href="../source/world.lua.html#749">line 749</a>
    </dt>
    <dd>
    Change owner of a plot.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">parcel</span>
         (int) Plot to change.
        </li>
        <li><span class="parameter">owner</span>
         (int) New owner (may be 0).
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:setSystemPause"></a>
    <strong>World:setSystemPause (state)</strong>
    <a style="float:right;" href="../source/world.lua.html#964">line 964</a>
    </dt>
    <dd>
    Sets the system_pause parameter


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">state</span>
         (bool)
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:setUI"></a>
    <strong>World:setUI (ui)</strong>
    <a style="float:right;" href="../source/world.lua.html#208">line 208</a>
    </dt>
    <dd>
    Register key shortcuts for controlling the world (game speed, etc.)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">ui</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:spawnPatient"></a>
    <strong>World:spawnPatient (hospital)</strong>
    <a style="float:right;" href="../source/world.lua.html#477">line 477</a>
    </dt>
    <dd>
    Spawn a patient from a spawn point for the given hospital.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">hospital</span>
         (Hospital) Hospital that the new patient should visit.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (Patient entity) The spawned patient, or 'nil' if no patient spawned.
    </ol>




</dd>
    <dt>
    <a name = "World:tickEarthquake"></a>
    <strong>World:tickEarthquake ()</strong>
    <a style="float:right;" href="../source/world.lua.html#547">line 547</a>
    </dt>
    <dd>
    Perform actions to simulate an active earthquake.







</dd>
    <dt>
    <a name = "World:updateInitialsCache"></a>
    <strong>World:updateInitialsCache ()</strong>
    <a style="float:right;" href="../source/world.lua.html#2377">line 2377</a>
    </dt>
    <dd>
    Refresh cache of letters in current language to be used for staff member's initials







</dd>
    <dt>
    <a name = "World:wasEmergencySkipped"></a>
    <strong>World:wasEmergencySkipped (prev_date, new_date)</strong>
    <a style="float:right;" href="../source/world.lua.html#1124">line 1124</a>
    </dt>
    <dd>
    Checks if a time jump caused an emergency to be missed


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">prev_date</span>
         (Date) Original game date before jump
        </li>
        <li><span class="parameter">new_date</span>
         (Date) Game date after time jump
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (boolean) true if emergency has been skipped
    </ol>




</dd>
    <dt>
    <a name = "World:willObjectsFootprintTileBeWithinItsAllowedRoomIfLocatedAt"></a>
    <strong>World:willObjectsFootprintTileBeWithinItsAllowedRoomIfLocatedAt (x, y, object, allowed_rooms_id_parameter)</strong>
    <a style="float:right;" href="../source/world.lua.html#2002">line 2002</a>
    </dt>
    <dd>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
         (int) X position of the coordinate to test.
        </li>
        <li><span class="parameter">y</span>
         (int) Y position of the coordinate to test.
        </li>
        <li><span class="parameter">object</span>
         (table) the object to test
        </li>
        <li><span class="parameter">allowed_rooms_id_parameter</span>
         Should be nil when the object is allowed to be placed in any room.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        {within_room, roomId}
    </ol>




</dd>
    <dt>
    <a name = "World:winGame"></a>
    <strong>World:winGame (player_no)</strong>
    <a style="float:right;" href="../source/world.lua.html#1480">line 1480</a>
    </dt>
    <dd>
    Process that the given player number won the game.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">player_no</span>
         (integer) Number of the player who just won.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:wouldNonSideObjectBreakPathfindingIfSpawnedAt"></a>
    <strong>World:wouldNonSideObjectBreakPathfindingIfSpawnedAt (x, y, object, objects_orientation, spawn_rooms_id)</strong>
    <a style="float:right;" href="../source/world.lua.html#2073">line 2073</a>
    </dt>
    <dd>
    Check that pathfinding still works, i.e.  that placing the object
 wouldn't disconnect one part of the hospital from another. To do
 this, we provisionally mark the footprint as unpassable (as it will
 become when the object is placed), and then check that the cells
 surrounding the footprint have not had their connectedness changed.



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>

        </li>
        <li><span class="parameter">y</span>

        </li>
        <li><span class="parameter">object</span>

        </li>
        <li><span class="parameter">objects_orientation</span>

        </li>
        <li><span class="parameter">spawn_rooms_id</span>

        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/lunarmodules/LDoc">LDoc TESTING</a></i>
<i style="float:right;">Last updated 2015-01-01 12:00:00 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
