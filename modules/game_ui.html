<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>CorsixTH</h1>


<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/announcer.html">announcer</a></li>
  <li><a href="../modules/app.html">app</a></li>
  <li><a href="../modules/audio.html">audio</a></li>
  <li><a href="../modules/base_config.html">base_config</a></li>
  <li><a href="../modules/calls_dispatcher.html">calls_dispatcher</a></li>
  <li><a href="../modules/cheats.html">cheats</a></li>
  <li><a href="../modules/config_finder.html">config_finder</a></li>
  <li><a href="../modules/debug_script.html">debug_script</a></li>
  <li><a href="../modules/dialogs.adviser.html">dialogs.adviser</a></li>
  <li><a href="../modules/dialogs.bottom_panel.html">dialogs.bottom_panel</a></li>
  <li><a href="../modules/dialogs.build_room.html">dialogs.build_room</a></li>
  <li><a href="../modules/dialogs.confirm_dialog.html">dialogs.confirm_dialog</a></li>
  <li><a href="../modules/dialogs.edit_room.html">dialogs.edit_room</a></li>
  <li><a href="../modules/dialogs.fullscreen.html">dialogs.fullscreen</a></li>
  <li><a href="../modules/dialogs.fullscreen.annual_report.html">dialogs.fullscreen.annual_report</a></li>
  <li><a href="../modules/dialogs.fullscreen.bank_manager.html">dialogs.fullscreen.bank_manager</a></li>
  <li><a href="../modules/dialogs.fullscreen.drug_casebook.html">dialogs.fullscreen.drug_casebook</a></li>
  <li><a href="../modules/dialogs.fullscreen.fax.html">dialogs.fullscreen.fax</a></li>
  <li><a href="../modules/dialogs.fullscreen.graphs.html">dialogs.fullscreen.graphs</a></li>
  <li><a href="../modules/dialogs.fullscreen.hospital_policy.html">dialogs.fullscreen.hospital_policy</a></li>
  <li><a href="../modules/dialogs.fullscreen.progress_report.html">dialogs.fullscreen.progress_report</a></li>
  <li><a href="../modules/dialogs.fullscreen.staff_management.html">dialogs.fullscreen.staff_management</a></li>
  <li><a href="../modules/dialogs.fullscreen.town_map.html">dialogs.fullscreen.town_map</a></li>
  <li><a href="../modules/dialogs.furnish_corridor.html">dialogs.furnish_corridor</a></li>
  <li><a href="../modules/dialogs.information.html">dialogs.information</a></li>
  <li><a href="../modules/dialogs.machine_dialog.html">dialogs.machine_dialog</a></li>
  <li><a href="../modules/dialogs.menu.html">dialogs.menu</a></li>
  <li><a href="../modules/dialogs.message.html">dialogs.message</a></li>
  <li><a href="../modules/dialogs.patient.html">dialogs.patient</a></li>
  <li><a href="../modules/dialogs.place_objects.html">dialogs.place_objects</a></li>
  <li><a href="../modules/dialogs.place_staff.html">dialogs.place_staff</a></li>
  <li><a href="../modules/dialogs.queue_dialog.html">dialogs.queue_dialog</a></li>
  <li><a href="../modules/dialogs.resizable.html">dialogs.resizable</a></li>
  <li><a href="../modules/dialogs.resizables.calls_dispatcher.html">dialogs.resizables.calls_dispatcher</a></li>
  <li><a href="../modules/dialogs.resizables.cheats_dialog.html">dialogs.resizables.cheats_dialog</a></li>
  <li><a href="../modules/dialogs.resizables.customise.html">dialogs.resizables.customise</a></li>
  <li><a href="../modules/dialogs.resizables.directory_browser.html">dialogs.resizables.directory_browser</a></li>
  <li><a href="../modules/dialogs.resizables.dropdown.html">dialogs.resizables.dropdown</a></li>
  <li><a href="../modules/dialogs.resizables.file_browser.html">dialogs.resizables.file_browser</a></li>
  <li><a href="../modules/dialogs.resizables.file_browsers.choose_font.html">dialogs.resizables.file_browsers.choose_font</a></li>
  <li><a href="../modules/dialogs.resizables.file_browsers.load_game.html">dialogs.resizables.file_browsers.load_game</a></li>
  <li><a href="../modules/dialogs.resizables.file_browsers.load_map.html">dialogs.resizables.file_browsers.load_map</a></li>
  <li><a href="../modules/dialogs.resizables.file_browsers.save_game.html">dialogs.resizables.file_browsers.save_game</a></li>
  <li><a href="../modules/dialogs.resizables.file_browsers.save_map.html">dialogs.resizables.file_browsers.save_map</a></li>
  <li><a href="../modules/dialogs.resizables.folder_settings.html">dialogs.resizables.folder_settings</a></li>
  <li><a href="../modules/dialogs.resizables.hotkey_assign.html">dialogs.resizables.hotkey_assign</a></li>
  <li><a href="../modules/dialogs.resizables.lua_console.html">dialogs.resizables.lua_console</a></li>
  <li><a href="../modules/dialogs.resizables.main_menu.html">dialogs.resizables.main_menu</a></li>
  <li><a href="../modules/dialogs.resizables.map_editor.html">dialogs.resizables.map_editor</a></li>
  <li><a href="../modules/dialogs.resizables.menu_list_dialog.html">dialogs.resizables.menu_list_dialog</a></li>
  <li><a href="../modules/dialogs.resizables.menu_list_dialogs.custom_campaign.html">dialogs.resizables.menu_list_dialogs.custom_campaign</a></li>
  <li><a href="../modules/dialogs.resizables.menu_list_dialogs.custom_game.html">dialogs.resizables.menu_list_dialogs.custom_game</a></li>
  <li><a href="../modules/dialogs.resizables.new_game.html">dialogs.resizables.new_game</a></li>
  <li><a href="../modules/dialogs.resizables.options.html">dialogs.resizables.options</a></li>
  <li><a href="../modules/dialogs.resizables.tip_of_the_day.html">dialogs.resizables.tip_of_the_day</a></li>
  <li><a href="../modules/dialogs.resizables.update.html">dialogs.resizables.update</a></li>
  <li><a href="../modules/dialogs.staff_dialog.html">dialogs.staff_dialog</a></li>
  <li><a href="../modules/dialogs.staff_rise.html">dialogs.staff_rise</a></li>
  <li><a href="../modules/dialogs.tree_ctrl.html">dialogs.tree_ctrl</a></li>
  <li><a href="../modules/dialogs.watch.html">dialogs.watch</a></li>
  <li><a href="../modules/entities.humanoid.html">entities.humanoid</a></li>
  <li><a href="../modules/entities.humanoids.patient.html">entities.humanoids.patient</a></li>
  <li><a href="../modules/entities.humanoids.staff.html">entities.humanoids.staff</a></li>
  <li><a href="../modules/entities.humanoids.staff.doctor.html">entities.humanoids.staff.doctor</a></li>
  <li><a href="../modules/entities.humanoids.staff.handyman.html">entities.humanoids.staff.handyman</a></li>
  <li><a href="../modules/entities.humanoids.staff.nurse.html">entities.humanoids.staff.nurse</a></li>
  <li><a href="../modules/entities.humanoids.staff.receptionist.html">entities.humanoids.staff.receptionist</a></li>
  <li><a href="../modules/entities.humanoids.vip.html">entities.humanoids.vip</a></li>
  <li><a href="../modules/entities.machine.html">entities.machine</a></li>
  <li><a href="../modules/entities.object.html">entities.object</a></li>
  <li><a href="../modules/entity.html">entity</a></li>
  <li><a href="../modules/filesystem.html">filesystem</a></li>
  <li><strong>game_ui</strong></li>
  <li><a href="../modules/graphics.html">graphics</a></li>
  <li><a href="../modules/hospital.html">hospital</a></li>
  <li><a href="../modules/hospitals.player_hospital.html">hospitals.player_hospital</a></li>
  <li><a href="../modules/humanoid_action.html">humanoid_action</a></li>
  <li><a href="../modules/humanoid_actions.die.html">humanoid_actions.die</a></li>
  <li><a href="../modules/humanoid_actions.idle.html">humanoid_actions.idle</a></li>
  <li><a href="../modules/humanoid_actions.knock_door.html">humanoid_actions.knock_door</a></li>
  <li><a href="../modules/humanoid_actions.multi_use_object.html">humanoid_actions.multi_use_object</a></li>
  <li><a href="../modules/humanoid_actions.queue.html">humanoid_actions.queue</a></li>
  <li><a href="../modules/humanoid_actions.seek_room.html">humanoid_actions.seek_room</a></li>
  <li><a href="../modules/humanoid_actions.spawn.html">humanoid_actions.spawn</a></li>
  <li><a href="../modules/humanoid_actions.use_object.html">humanoid_actions.use_object</a></li>
  <li><a href="../modules/humanoid_actions.use_screen.html">humanoid_actions.use_screen</a></li>
  <li><a href="../modules/humanoid_actions.walk.html">humanoid_actions.walk</a></li>
  <li><a href="../modules/languages.brazilian_portuguese.html">languages.brazilian_portuguese</a></li>
  <li><a href="../modules/languages.danish.html">languages.danish</a></li>
  <li><a href="../modules/languages.developer.html">languages.developer</a></li>
  <li><a href="../modules/languages.dutch.html">languages.dutch</a></li>
  <li><a href="../modules/languages.finnish.html">languages.finnish</a></li>
  <li><a href="../modules/languages.french.html">languages.french</a></li>
  <li><a href="../modules/languages.hungarian.html">languages.hungarian</a></li>
  <li><a href="../modules/languages.norwegian.html">languages.norwegian</a></li>
  <li><a href="../modules/map.html">map</a></li>
  <li><a href="../modules/movie_player.html">movie_player</a></li>
  <li><a href="../modules/objects.bench.html">objects.bench</a></li>
  <li><a href="../modules/objects.chair.html">objects.chair</a></li>
  <li><a href="../modules/objects.door.html">objects.door</a></li>
  <li><a href="../modules/objects.helicopter.html">objects.helicopter</a></li>
  <li><a href="../modules/objects.litter.html">objects.litter</a></li>
  <li><a href="../modules/objects.plant.html">objects.plant</a></li>
  <li><a href="../modules/objects.reception_desk.html">objects.reception_desk</a></li>
  <li><a href="../modules/persistance.html">persistance</a></li>
  <li><a href="../modules/queue.html">queue</a></li>
  <li><a href="../modules/research_department.html">research_department</a></li>
  <li><a href="../modules/room.html">room</a></li>
  <li><a href="../modules/rooms.operating_theatre.html">rooms.operating_theatre</a></li>
  <li><a href="../modules/run_debugger.html">run_debugger</a></li>
  <li><a href="../modules/staff_profile.html">staff_profile</a></li>
  <li><a href="../modules/strict.html">strict</a></li>
  <li><a href="../modules/string_extensions.html">string_extensions</a></li>
  <li><a href="../modules/strings.html">strings</a></li>
  <li><a href="../modules/ui.html">ui</a></li>
  <li><a href="../modules/utility.html">utility</a></li>
  <li><a href="../modules/window.html">window</a></li>
  <li><a href="../modules/world.html">world</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>game_ui</code></h1>
<p>Variant of UI for running games</p>
<p></p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#GameUI:GameUI">GameUI:GameUI (app, local_hospital, map_editor)</a></td>
	<td class="summary">Game UI constructor.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#GameUI:calculateMinimumZoom">GameUI:calculateMinimumZoom ()</a></td>
	<td class="summary">Calculate the minimum valid zoom value
<p> Zooming out too much would cause negative width/height to be returned from
 makeVisibleDiamond.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#GameUI:resync">GameUI:resync (ui)</a></td>
	<td class="summary">Update UI state after the UI has been depersisted
 When an UI object is depersisted, its state will reflect how the UI was at
 the moment of persistence, which may be different to the keyboard / mouse
 state at the moment of depersistence.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#GameUI:setWorldHitTest">GameUI:setWorldHitTest (mode)</a></td>
	<td class="summary">Change if the World should be tested for entities under the cursor</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#GameUI:onWindowActive">GameUI:onWindowActive (gain)</a></td>
	<td class="summary">Called when the mouse enters or leaves the game window.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#GameUI:onMultiGesture">GameUI:onMultiGesture (numfingers, dTheta, dDist, x, y)</a></td>
	<td class="summary">Process SDL_MULTIGESTURE events for zoom and map move functionality</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#GameUI:playRandomAnnouncement">GameUI:playRandomAnnouncement (msgs, priority, chance_to_play, played_callback, played_callback_delay)</a></td>
	<td class="summary">Announcements to the player.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#GameUI:beginShakeScreen">GameUI:beginShakeScreen (intensity)</a></td>
	<td class="summary">Start shaking the screen, e.g.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#GameUI:endShakeScreen">GameUI:endShakeScreen ()</a></td>
	<td class="summary">Stop the screen from shaking after beginShakeScreen is called.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#GameUI:applyTransparency">GameUI:applyTransparency ()</a></td>
	<td class="summary">Applies the current setting for wall transparency to the map</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#GameUI:setWallsTransparent">GameUI:setWallsTransparent (mode)</a></td>
	<td class="summary">Sets wall transparency to the specified parameter</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#GameUI:setMapRecallPosition">GameUI:setMapRecallPosition (index)</a></td>
	<td class="summary">Converts centre of screen coordinates to world tile positions and stores the values for later recall
 param index (integer) Position in recallpositions table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#GameUI:recallMapPosition">GameUI:recallMapPosition (index)</a></td>
	<td class="summary">Retrieves stored recall position and attempts to scroll to that position - will be limited to the bounds of the camera when zoomed out
 param index (integer) Position in recallpositions table</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#GameUI:quit">GameUI:quit ()</a></td>
	<td class="summary">Offers a confirmation window to quit the game and return to main menu
 NB: overrides UI.quit, do NOT call it from here</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "GameUI:GameUI"></a>
    <strong>GameUI:GameUI (app, local_hospital, map_editor)</strong>
    </dt>
    <dd>
    Game UI constructor.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">app</span>
         (Application) Application object.
        </li>
        <li><span class="parameter">local_hospital</span>
         Hospital to display
        </li>
        <li><span class="parameter">map_editor</span>
         (bool) Whether the map is editable.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "GameUI:calculateMinimumZoom"></a>
    <strong>GameUI:calculateMinimumZoom ()</strong>
    </dt>
    <dd>
    Calculate the minimum valid zoom value
<p> Zooming out too much would cause negative width/height to be returned from
 makeVisibleDiamond.  This function calculates the minimum zoom_factor that
 would be allowed.







</dd>
    <dt>
    <a name = "GameUI:resync"></a>
    <strong>GameUI:resync (ui)</strong>
    </dt>
    <dd>
    Update UI state after the UI has been depersisted
 When an UI object is depersisted, its state will reflect how the UI was at
 the moment of persistence, which may be different to the keyboard / mouse
 state at the moment of depersistence.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">ui</span>
         (UI) The previously existing UI object, from which values should be
 taken.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "GameUI:setWorldHitTest"></a>
    <strong>GameUI:setWorldHitTest (mode)</strong>
    </dt>
    <dd>
    Change if the World should be tested for entities under the cursor


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">mode</span>
         (boolean or room) true to enable hit test (normal), false
 to disable, room to enable only for non-door objects in given room
        </li>
    </ul>





</dd>
    <dt>
    <a name = "GameUI:onWindowActive"></a>
    <strong>GameUI:onWindowActive (gain)</strong>
    </dt>
    <dd>
    Called when the mouse enters or leaves the game window.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">gain</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "GameUI:onMultiGesture"></a>
    <strong>GameUI:onMultiGesture (numfingers, dTheta, dDist, x, y)</strong>
    </dt>
    <dd>
    Process SDL_MULTIGESTURE events for zoom and map move functionality


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">numfingers</span>
         (integer) number of touch points, received from the SDL event
  This is still more info about param x.
        </li>
        <li><span class="parameter">dTheta</span>
         (float) rotation in radians of the gesture from the SDL event
        </li>
        <li><span class="parameter">dDist</span>
         (float) magnitude of pinch from the SDL event
        </li>
        <li><span class="parameter">x</span>
         (float) normalised x value of the gesture
        </li>
        <li><span class="parameter">y</span>
         (float) normalised y value of the gesture
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (boolean) event processed indicator
    </ol>




</dd>
    <dt>
    <a name = "GameUI:playRandomAnnouncement"></a>
    <strong>GameUI:playRandomAnnouncement (msgs, priority, chance_to_play, played_callback, played_callback_delay)</strong>
    </dt>
    <dd>
    Announcements to the player.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">msgs</span>
         (array of string) Messages to select from.
        </li>
        <li><span class="parameter">priority</span>
         (optional valid AnnouncementPriority selection) Priority of announcement
        </li>
        <li><span class="parameter">chance_to_play</span>
         (optional float in range (0, 1]) Fraction of times that the
    call actually says something.
        </li>
        <li><span class="parameter">played_callback</span>

        </li>
        <li><span class="parameter">played_callback_delay</span>

        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (boolean) Whether a message was given to the user.
    </ol>




</dd>
    <dt>
    <a name = "GameUI:beginShakeScreen"></a>
    <strong>GameUI:beginShakeScreen (intensity)</strong>
    </dt>
    <dd>
    Start shaking the screen, e.g.  an earthquake effect


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">intensity</span>
         (number) The magnitude of the effect, between 0 for no
 movement to 1 for significant shaking.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "GameUI:endShakeScreen"></a>
    <strong>GameUI:endShakeScreen ()</strong>
    </dt>
    <dd>
    Stop the screen from shaking after beginShakeScreen is called.







</dd>
    <dt>
    <a name = "GameUI:applyTransparency"></a>
    <strong>GameUI:applyTransparency ()</strong>
    </dt>
    <dd>
    Applies the current setting for wall transparency to the map







</dd>
    <dt>
    <a name = "GameUI:setWallsTransparent"></a>
    <strong>GameUI:setWallsTransparent (mode)</strong>
    </dt>
    <dd>
    Sets wall transparency to the specified parameter


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">mode</span>
         (boolean) whether to enable or disable wall transparency
        </li>
    </ul>





</dd>
    <dt>
    <a name = "GameUI:setMapRecallPosition"></a>
    <strong>GameUI:setMapRecallPosition (index)</strong>
    </dt>
    <dd>
    Converts centre of screen coordinates to world tile positions and stores the values for later recall
 param index (integer) Position in recallpositions table


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">index</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "GameUI:recallMapPosition"></a>
    <strong>GameUI:recallMapPosition (index)</strong>
    </dt>
    <dd>
    Retrieves stored recall position and attempts to scroll to that position - will be limited to the bounds of the camera when zoomed out
 param index (integer) Position in recallpositions table


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">index</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "GameUI:quit"></a>
    <strong>GameUI:quit ()</strong>
    </dt>
    <dd>
    Offers a confirmation window to quit the game and return to main menu
 NB: overrides UI.quit, do NOT call it from here







</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/lunarmodules/LDoc">LDoc TESTING</a></i>
<i style="float:right;">Last updated 2015-01-01 12:00:00 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
