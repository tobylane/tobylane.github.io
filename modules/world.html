<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>CorsixTH</h1>


<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
</ul>


<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/announcer.html">announcer</a></li>
  <li><a href="../modules/app.html">app</a></li>
  <li><a href="../modules/audio.html">audio</a></li>
  <li><a href="../modules/base_config.html">base_config</a></li>
  <li><a href="../modules/calls_dispatcher.html">calls_dispatcher</a></li>
  <li><a href="../modules/cheats.html">cheats</a></li>
  <li><a href="../modules/config_finder.html">config_finder</a></li>
  <li><a href="../modules/debug_script.html">debug_script</a></li>
  <li><a href="../modules/dialogs.adviser.html">dialogs.adviser</a></li>
  <li><a href="../modules/dialogs.bottom_panel.html">dialogs.bottom_panel</a></li>
  <li><a href="../modules/dialogs.build_room.html">dialogs.build_room</a></li>
  <li><a href="../modules/dialogs.confirm_dialog.html">dialogs.confirm_dialog</a></li>
  <li><a href="../modules/dialogs.edit_room.html">dialogs.edit_room</a></li>
  <li><a href="../modules/dialogs.fullscreen.html">dialogs.fullscreen</a></li>
  <li><a href="../modules/dialogs.fullscreen.annual_report.html">dialogs.fullscreen.annual_report</a></li>
  <li><a href="../modules/dialogs.fullscreen.bank_manager.html">dialogs.fullscreen.bank_manager</a></li>
  <li><a href="../modules/dialogs.fullscreen.drug_casebook.html">dialogs.fullscreen.drug_casebook</a></li>
  <li><a href="../modules/dialogs.fullscreen.fax.html">dialogs.fullscreen.fax</a></li>
  <li><a href="../modules/dialogs.fullscreen.graphs.html">dialogs.fullscreen.graphs</a></li>
  <li><a href="../modules/dialogs.fullscreen.hospital_policy.html">dialogs.fullscreen.hospital_policy</a></li>
  <li><a href="../modules/dialogs.fullscreen.progress_report.html">dialogs.fullscreen.progress_report</a></li>
  <li><a href="../modules/dialogs.fullscreen.staff_management.html">dialogs.fullscreen.staff_management</a></li>
  <li><a href="../modules/dialogs.fullscreen.town_map.html">dialogs.fullscreen.town_map</a></li>
  <li><a href="../modules/dialogs.furnish_corridor.html">dialogs.furnish_corridor</a></li>
  <li><a href="../modules/dialogs.information.html">dialogs.information</a></li>
  <li><a href="../modules/dialogs.machine_dialog.html">dialogs.machine_dialog</a></li>
  <li><a href="../modules/dialogs.menu.html">dialogs.menu</a></li>
  <li><a href="../modules/dialogs.message.html">dialogs.message</a></li>
  <li><a href="../modules/dialogs.patient.html">dialogs.patient</a></li>
  <li><a href="../modules/dialogs.place_objects.html">dialogs.place_objects</a></li>
  <li><a href="../modules/dialogs.place_staff.html">dialogs.place_staff</a></li>
  <li><a href="../modules/dialogs.queue_dialog.html">dialogs.queue_dialog</a></li>
  <li><a href="../modules/dialogs.resizable.html">dialogs.resizable</a></li>
  <li><a href="../modules/dialogs.resizables.calls_dispatcher.html">dialogs.resizables.calls_dispatcher</a></li>
  <li><a href="../modules/dialogs.resizables.cheats_dialog.html">dialogs.resizables.cheats_dialog</a></li>
  <li><a href="../modules/dialogs.resizables.customise.html">dialogs.resizables.customise</a></li>
  <li><a href="../modules/dialogs.resizables.directory_browser.html">dialogs.resizables.directory_browser</a></li>
  <li><a href="../modules/dialogs.resizables.dropdown.html">dialogs.resizables.dropdown</a></li>
  <li><a href="../modules/dialogs.resizables.file_browser.html">dialogs.resizables.file_browser</a></li>
  <li><a href="../modules/dialogs.resizables.file_browsers.choose_font.html">dialogs.resizables.file_browsers.choose_font</a></li>
  <li><a href="../modules/dialogs.resizables.file_browsers.load_game.html">dialogs.resizables.file_browsers.load_game</a></li>
  <li><a href="../modules/dialogs.resizables.file_browsers.load_map.html">dialogs.resizables.file_browsers.load_map</a></li>
  <li><a href="../modules/dialogs.resizables.file_browsers.save_game.html">dialogs.resizables.file_browsers.save_game</a></li>
  <li><a href="../modules/dialogs.resizables.file_browsers.save_map.html">dialogs.resizables.file_browsers.save_map</a></li>
  <li><a href="../modules/dialogs.resizables.folder_settings.html">dialogs.resizables.folder_settings</a></li>
  <li><a href="../modules/dialogs.resizables.hotkey_assign.html">dialogs.resizables.hotkey_assign</a></li>
  <li><a href="../modules/dialogs.resizables.lua_console.html">dialogs.resizables.lua_console</a></li>
  <li><a href="../modules/dialogs.resizables.main_menu.html">dialogs.resizables.main_menu</a></li>
  <li><a href="../modules/dialogs.resizables.map_editor.html">dialogs.resizables.map_editor</a></li>
  <li><a href="../modules/dialogs.resizables.menu_list_dialog.html">dialogs.resizables.menu_list_dialog</a></li>
  <li><a href="../modules/dialogs.resizables.menu_list_dialogs.custom_campaign.html">dialogs.resizables.menu_list_dialogs.custom_campaign</a></li>
  <li><a href="../modules/dialogs.resizables.menu_list_dialogs.custom_game.html">dialogs.resizables.menu_list_dialogs.custom_game</a></li>
  <li><a href="../modules/dialogs.resizables.new_game.html">dialogs.resizables.new_game</a></li>
  <li><a href="../modules/dialogs.resizables.options.html">dialogs.resizables.options</a></li>
  <li><a href="../modules/dialogs.resizables.tip_of_the_day.html">dialogs.resizables.tip_of_the_day</a></li>
  <li><a href="../modules/dialogs.resizables.update.html">dialogs.resizables.update</a></li>
  <li><a href="../modules/dialogs.staff_dialog.html">dialogs.staff_dialog</a></li>
  <li><a href="../modules/dialogs.staff_rise.html">dialogs.staff_rise</a></li>
  <li><a href="../modules/dialogs.tree_ctrl.html">dialogs.tree_ctrl</a></li>
  <li><a href="../modules/dialogs.watch.html">dialogs.watch</a></li>
  <li><a href="../modules/entities.humanoid.html">entities.humanoid</a></li>
  <li><a href="../modules/entities.humanoids.patient.html">entities.humanoids.patient</a></li>
  <li><a href="../modules/entities.humanoids.staff.html">entities.humanoids.staff</a></li>
  <li><a href="../modules/entities.humanoids.staff.doctor.html">entities.humanoids.staff.doctor</a></li>
  <li><a href="../modules/entities.humanoids.staff.handyman.html">entities.humanoids.staff.handyman</a></li>
  <li><a href="../modules/entities.humanoids.staff.nurse.html">entities.humanoids.staff.nurse</a></li>
  <li><a href="../modules/entities.humanoids.staff.receptionist.html">entities.humanoids.staff.receptionist</a></li>
  <li><a href="../modules/entities.humanoids.vip.html">entities.humanoids.vip</a></li>
  <li><a href="../modules/entities.machine.html">entities.machine</a></li>
  <li><a href="../modules/entities.object.html">entities.object</a></li>
  <li><a href="../modules/entity.html">entity</a></li>
  <li><a href="../modules/filesystem.html">filesystem</a></li>
  <li><a href="../modules/game_ui.html">game_ui</a></li>
  <li><a href="../modules/graphics.html">graphics</a></li>
  <li><a href="../modules/hospital.html">hospital</a></li>
  <li><a href="../modules/hospitals.player_hospital.html">hospitals.player_hospital</a></li>
  <li><a href="../modules/humanoid_action.html">humanoid_action</a></li>
  <li><a href="../modules/humanoid_actions.die.html">humanoid_actions.die</a></li>
  <li><a href="../modules/humanoid_actions.idle.html">humanoid_actions.idle</a></li>
  <li><a href="../modules/humanoid_actions.knock_door.html">humanoid_actions.knock_door</a></li>
  <li><a href="../modules/humanoid_actions.multi_use_object.html">humanoid_actions.multi_use_object</a></li>
  <li><a href="../modules/humanoid_actions.queue.html">humanoid_actions.queue</a></li>
  <li><a href="../modules/humanoid_actions.seek_room.html">humanoid_actions.seek_room</a></li>
  <li><a href="../modules/humanoid_actions.spawn.html">humanoid_actions.spawn</a></li>
  <li><a href="../modules/humanoid_actions.use_object.html">humanoid_actions.use_object</a></li>
  <li><a href="../modules/humanoid_actions.use_screen.html">humanoid_actions.use_screen</a></li>
  <li><a href="../modules/humanoid_actions.walk.html">humanoid_actions.walk</a></li>
  <li><a href="../modules/languages.brazilian_portuguese.html">languages.brazilian_portuguese</a></li>
  <li><a href="../modules/languages.danish.html">languages.danish</a></li>
  <li><a href="../modules/languages.developer.html">languages.developer</a></li>
  <li><a href="../modules/languages.dutch.html">languages.dutch</a></li>
  <li><a href="../modules/languages.finnish.html">languages.finnish</a></li>
  <li><a href="../modules/languages.french.html">languages.french</a></li>
  <li><a href="../modules/languages.hungarian.html">languages.hungarian</a></li>
  <li><a href="../modules/languages.norwegian.html">languages.norwegian</a></li>
  <li><a href="../modules/map.html">map</a></li>
  <li><a href="../modules/movie_player.html">movie_player</a></li>
  <li><a href="../modules/objects.bench.html">objects.bench</a></li>
  <li><a href="../modules/objects.chair.html">objects.chair</a></li>
  <li><a href="../modules/objects.door.html">objects.door</a></li>
  <li><a href="../modules/objects.helicopter.html">objects.helicopter</a></li>
  <li><a href="../modules/objects.litter.html">objects.litter</a></li>
  <li><a href="../modules/objects.plant.html">objects.plant</a></li>
  <li><a href="../modules/objects.reception_desk.html">objects.reception_desk</a></li>
  <li><a href="../modules/persistance.html">persistance</a></li>
  <li><a href="../modules/queue.html">queue</a></li>
  <li><a href="../modules/research_department.html">research_department</a></li>
  <li><a href="../modules/room.html">room</a></li>
  <li><a href="../modules/rooms.operating_theatre.html">rooms.operating_theatre</a></li>
  <li><a href="../modules/run_debugger.html">run_debugger</a></li>
  <li><a href="../modules/staff_profile.html">staff_profile</a></li>
  <li><a href="../modules/strict.html">strict</a></li>
  <li><a href="../modules/string_extensions.html">string_extensions</a></li>
  <li><a href="../modules/strings.html">strings</a></li>
  <li><a href="../modules/ui.html">ui</a></li>
  <li><a href="../modules/utility.html">utility</a></li>
  <li><a href="../modules/window.html">window</a></li>
  <li><strong>world</strong></li>
</ul>

</div>

<div id="content">

<h1>Module <code>world</code></h1>
<p>Manages entities, rooms, and the date.</p>
<p></p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#World:setUI">World:setUI (ui)</a></td>
	<td class="summary">Register key shortcuts for controlling the world (game speed, etc.)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:initLevel">World:initLevel (app, avail_rooms)</a></td>
	<td class="summary">Initialize the game level (available diseases, winning conditions).</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:determineWinningConditions">World:determineWinningConditions ()</a></td>
	<td class="summary">Load goals to win and lose from the map, and store them in 'self.goals'.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getAvailableRooms">World:getAvailableRooms ()</a></td>
	<td class="summary">Find the rooms available at the level.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getLocalPlayerHospital">World:getLocalPlayerHospital ()</a></td>
	<td class="summary">Get the hospital controlled by the (single) player.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:calculateSpawnTiles">World:calculateSpawnTiles ()</a></td>
	<td class="summary">Identify the tiles on the map suitable for spawning `Humanoid`s from.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:spawnPatient">World:spawnPatient (hospital)</a></td>
	<td class="summary">Spawn a patient from a spawn point for the given hospital.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:tickEarthquake">World:tickEarthquake ()</a></td>
	<td class="summary">Perform actions to simulate an active earthquake.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:debugDisableSalaryRaise">World:debugDisableSalaryRaise (mode)</a></td>
	<td class="summary">Enable or disable salary raise events.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:createMapObjects">World:createMapObjects (objects)</a></td>
	<td class="summary">Place objects from a map file onto the map.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:_createMapObject">World:_createMapObject (object)</a></td>
	<td class="summary">Internal function for placing an object from the map file.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:setPlotOwner">World:setPlotOwner (parcel, owner)</a></td>
	<td class="summary">Change owner of a plot.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:markRoomAsBuilt">World:markRoomAsBuilt (room)</a></td>
	<td class="summary">Called when a room has been completely built and is ready to use.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:notifyRoomRemoved">World:notifyRoomRemoved (room)</a></td>
	<td class="summary">Called when a room has been deactivated (crashed or edited)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:clearCaches">World:clearCaches ()</a></td>
	<td class="summary">Clear all internal caches which are dependent upon map state / object position</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:isCurrentSpeed">World:isCurrentSpeed (speed)</a></td>
	<td class="summary">Return true if the given speed the same as the current speed.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getCurrentSpeed">World:getCurrentSpeed ()</a></td>
	<td class="summary">Return the name of the current speed, relating to a key in tick_rates.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:pauseOrUnpause">World:pauseOrUnpause ()</a></td>
	<td class="summary">Dedicated function to allow unpausing by pressing 'p' again</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:setSystemPause">World:setSystemPause (state)</a></td>
	<td class="summary">Sets the system_pause parameter</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:isSystemPauseActive">World:isSystemPauseActive ()</a></td>
	<td class="summary">Reports the system pause status</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:isUserActionProhibited">World:isUserActionProhibited ()</a></td>
	<td class="summary">Function to check if player can perform actions when paused</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:onTick">World:onTick ()</a></td>
	<td class="summary">World ticks are translated to game ticks (or hours) depending on the
 current speed of the game.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:setEndMonth">World:setEndMonth ()</a></td>
	<td class="summary">Change the date of the game to the last hour of this month.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:setEndYear">World:setEndYear ()</a></td>
	<td class="summary">Change the date of the game to the last hour of this year.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:wasEmergencySkipped">World:wasEmergencySkipped (prev_date, new_date)</a></td>
	<td class="summary">Checks if a time jump caused an emergency to be missed</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getReputationImpact">World:getReputationImpact (hospital)</a></td>
	<td class="summary">Computes the impact of hospital reputation on the spawn rate.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:nextEmergency">World:nextEmergency ()</a></td>
	<td class="summary">Called when it is time to determine when the next emergency should happen</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:scheduleRandomEmergency">World:scheduleRandomEmergency (control)</a></td>
	<td class="summary">If a level file specifies random emergencies we make the next one as defined by the mean/variance given</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:computeNextEmergencyDates">World:computeNextEmergencyDates (emergency)</a></td>
	<td class="summary">Generate the dates for the next emergency</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:checkWinningConditions">World:checkWinningConditions (player_no)</a></td>
	<td class="summary">Checks if all goals have been achieved or if the player has lost.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:winGame">World:winGame (player_no)</a></td>
	<td class="summary">Process that the given player number won the game.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getCampaignWinningText">World:getCampaignWinningText (player_no)</a></td>
	<td class="summary">Finds what text the winning fax should contain, and which choices the player has.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:loseGame">World:loseGame (player_no, reason, limit)</a></td>
	<td class="summary">Cause the player with the player number player_no to lose.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:isTilePartOfNearbyObject">World:isTilePartOfNearbyObject (x, y, distance)</a></td>
	<td class="summary">Checks whether the given tile is part of a nearby object (walkable tiles
  count as part of the object)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:newFloatingDollarSign">World:newFloatingDollarSign (patient, amount)</a></td>
	<td class="summary">Setup an animated floating money amount above a patient.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:newObject">World:newObject (id, x, y, flags, name)</a></td>
	<td class="summary">Creates a new object by finding the object_type from the "id" variable and
  calls its class constructor.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:isOnMap">World:isOnMap (x, y)</a></td>
	<td class="summary">Test whether the given coordinate is on the map.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:willObjectsFootprintTileBeWithinItsAllowedRoomIfLocatedAt">World:willObjectsFootprintTileBeWithinItsAllowedRoomIfLocatedAt (x, y, object, allowed_rooms_id_parameter)</a></td>
	<td class="summary"></td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:isFootprintTileBuildableOrPassable">World:isFootprintTileBuildableOrPassable (x, y, tile, footprint, requirement_flag, player_id)</a></td>
	<td class="summary">A footprint tile will either need to be buildable or passable so this function
 checks if its buildable/passable using the tile's appropriate flag and then returns this
 flag's boolean value or false if the tile isn't valid.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:wouldNonSideObjectBreakPathfindingIfSpawnedAt">World:wouldNonSideObjectBreakPathfindingIfSpawnedAt (x, y, object, objects_orientation, spawn_rooms_id)</a></td>
	<td class="summary">Check that pathfinding still works, i.e.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:objectPlaced">World:objectPlaced (entity, id)</a></td>
	<td class="summary">Notifies the world that an object has been placed, notifying
  interested entities in the vicinity of the new arrival.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:removeObjectFromTile">World:removeObjectFromTile (object, x, y)</a></td>
	<td class="summary">Notify the world of an object being removed from a tile
 See also `World:addObjectToTile`</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:addObjectToTile">World:addObjectToTile (object, x, y)</a></td>
	<td class="summary">Notify the world of a new object being placed somewhere in the world
 See also `World:removeObjectFromTile`</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getObjects">World:getObjects (x, y)</a></td>
	<td class="summary">Retrieve all objects from a given position.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getObject">World:getObject (x, y, id)</a></td>
	<td class="summary">Retrieve one object from a given position.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:removeAllLitter">World:removeAllLitter (x, y)</a></td>
	<td class="summary">Remove all cleanable litter from a given tile.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:prepareFootprintTilesForBuild">World:prepareFootprintTilesForBuild (object_footprint, x, y)</a></td>
	<td class="summary">Prepare all tiles of the footprint for build of an object.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:prepareRectangleTilesForBuild">World:prepareRectangleTilesForBuild (x, y, w, h)</a></td>
	<td class="summary">Prepare all tiles in the given rectangle for building a room.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getRoom">World:getRoom (x, y)</a></td>
	<td class="summary">Get the room at a given tile location.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getHospital">World:getHospital (x, y)</a></td>
	<td class="summary">Get the hospital at a given tile location.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getRoomNameAndRequiredStaffName">World:getRoomNameAndRequiredStaffName (room_id)</a></td>
	<td class="summary">Returns localized name of the room, internal required staff name
 and localized name of staff required.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:gameLog">World:gameLog (message)</a></td>
	<td class="summary">Append a message to the game log.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:dumpGameLog">World:dumpGameLog ()</a></td>
	<td class="summary">Dump the contents of the game log into a file.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:resetAnimations">World:resetAnimations ()</a></td>
	<td class="summary">Because the save file only saves one thob per tile if they are more that information
 will be lost.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:updateInitialsCache">World:updateInitialsCache ()</a></td>
	<td class="summary">Refresh cache of letters in current language to be used for staff member's initials</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:localiseInitial">World:localiseInitial (profile)</a></td>
	<td class="summary">Change the staff name first letter to one from the current language
 from the seed (generated here or in staff_profile.lua)</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:afterLoad">World:afterLoad (old, new)</a></td>
	<td class="summary">Let the world react to and old save game.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:date">World:date ()</a></td>
	<td class="summary">Get todays date.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:getCampaignData">World:getCampaignData ()</a></td>
	<td class="summary">Collect the settings that should be reused in the next world</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#World:setCampaignData">World:setCampaignData (campaign_data)</a></td>
	<td class="summary">Restore the settings from the previous world</td>
	</tr>
</table>

<br/>
<br/>


    <h2 class="section-header "><a name="Functions"></a>Functions</h2>

    <dl class="function">
    <dt>
    <a name = "World:setUI"></a>
    <strong>World:setUI (ui)</strong>
    </dt>
    <dd>
    Register key shortcuts for controlling the world (game speed, etc.)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">ui</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:initLevel"></a>
    <strong>World:initLevel (app, avail_rooms)</strong>
    </dt>
    <dd>
    Initialize the game level (available diseases, winning conditions).


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">app</span>
         Game application.
        </li>
        <li><span class="parameter">avail_rooms</span>
         (list) Available rooms in the level.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:determineWinningConditions"></a>
    <strong>World:determineWinningConditions ()</strong>
    </dt>
    <dd>
    Load goals to win and lose from the map, and store them in 'self.goals'.
 Also set 'self.winning_goal_count'.







</dd>
    <dt>
    <a name = "World:getAvailableRooms"></a>
    <strong>World:getAvailableRooms ()</strong>
    </dt>
    <dd>
    Find the rooms available at the level.



    <h3>Returns:</h3>
    <ol>

        (list) Available rooms, with discovery state at start, and build_cost.
    </ol>




</dd>
    <dt>
    <a name = "World:getLocalPlayerHospital"></a>
    <strong>World:getLocalPlayerHospital ()</strong>
    </dt>
    <dd>
    Get the hospital controlled by the (single) player.



    <h3>Returns:</h3>
    <ol>

        (Hospital) The hospital controlled by the (single) player.
    </ol>




</dd>
    <dt>
    <a name = "World:calculateSpawnTiles"></a>
    <strong>World:calculateSpawnTiles ()</strong>
    </dt>
    <dd>
    Identify the tiles on the map suitable for spawning `Humanoid`s from.







</dd>
    <dt>
    <a name = "World:spawnPatient"></a>
    <strong>World:spawnPatient (hospital)</strong>
    </dt>
    <dd>
    Spawn a patient from a spawn point for the given hospital.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">hospital</span>
         (Hospital) Hospital that the new patient should visit.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (Patient entity) The spawned patient, or 'nil' if no patient spawned.
    </ol>




</dd>
    <dt>
    <a name = "World:tickEarthquake"></a>
    <strong>World:tickEarthquake ()</strong>
    </dt>
    <dd>
    Perform actions to simulate an active earthquake.







</dd>
    <dt>
    <a name = "World:debugDisableSalaryRaise"></a>
    <strong>World:debugDisableSalaryRaise (mode)</strong>
    </dt>
    <dd>
    Enable or disable salary raise events.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">mode</span>
         (boolean) If true, do not create salary raise events.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:createMapObjects"></a>
    <strong>World:createMapObjects (objects)</strong>
    </dt>
    <dd>
    Place objects from a map file onto the map.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">objects</span>
         Objects to place.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:_createMapObject"></a>
    <strong>World:_createMapObject (object)</strong>
    </dt>
    <dd>
    Internal function for placing an object from the map file.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">object</span>
         Object to place.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:setPlotOwner"></a>
    <strong>World:setPlotOwner (parcel, owner)</strong>
    </dt>
    <dd>
    Change owner of a plot.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">parcel</span>
         (int) Plot to change.
        </li>
        <li><span class="parameter">owner</span>
         (int) New owner (may be 0).
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:markRoomAsBuilt"></a>
    <strong>World:markRoomAsBuilt (room)</strong>
    </dt>
    <dd>
    Called when a room has been completely built and is ready to use.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">room</span>
         (Room) The new room.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:notifyRoomRemoved"></a>
    <strong>World:notifyRoomRemoved (room)</strong>
    </dt>
    <dd>
    Called when a room has been deactivated (crashed or edited)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">room</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:clearCaches"></a>
    <strong>World:clearCaches ()</strong>
    </dt>
    <dd>
    Clear all internal caches which are dependent upon map state / object position







</dd>
    <dt>
    <a name = "World:isCurrentSpeed"></a>
    <strong>World:isCurrentSpeed (speed)</strong>
    </dt>
    <dd>
    Return true if the given speed the same as the current speed.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">speed</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:getCurrentSpeed"></a>
    <strong>World:getCurrentSpeed ()</strong>
    </dt>
    <dd>
    Return the name of the current speed, relating to a key in tick_rates.







</dd>
    <dt>
    <a name = "World:pauseOrUnpause"></a>
    <strong>World:pauseOrUnpause ()</strong>
    </dt>
    <dd>
    Dedicated function to allow unpausing by pressing 'p' again







</dd>
    <dt>
    <a name = "World:setSystemPause"></a>
    <strong>World:setSystemPause (state)</strong>
    </dt>
    <dd>
    Sets the system_pause parameter


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">state</span>
         (bool)
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:isSystemPauseActive"></a>
    <strong>World:isSystemPauseActive ()</strong>
    </dt>
    <dd>
    Reports the system pause status



    <h3>Returns:</h3>
    <ol>

        (bool) true is system pause is active, else false
    </ol>




</dd>
    <dt>
    <a name = "World:isUserActionProhibited"></a>
    <strong>World:isUserActionProhibited ()</strong>
    </dt>
    <dd>
    Function to check if player can perform actions when paused



    <h3>Returns:</h3>
    <ol>

        (bool) Returns true if player hasn't allowed editing while paused
    </ol>




</dd>
    <dt>
    <a name = "World:onTick"></a>
    <strong>World:onTick ()</strong>
    </dt>
    <dd>
    World ticks are translated to game ticks (or hours) depending on the
 current speed of the game.  There are 50 hours in a TH day.







</dd>
    <dt>
    <a name = "World:setEndMonth"></a>
    <strong>World:setEndMonth ()</strong>
    </dt>
    <dd>
    Change the date of the game to the last hour of this month.







</dd>
    <dt>
    <a name = "World:setEndYear"></a>
    <strong>World:setEndYear ()</strong>
    </dt>
    <dd>
    Change the date of the game to the last hour of this year.







</dd>
    <dt>
    <a name = "World:wasEmergencySkipped"></a>
    <strong>World:wasEmergencySkipped (prev_date, new_date)</strong>
    </dt>
    <dd>
    Checks if a time jump caused an emergency to be missed


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">prev_date</span>
         (Date) Original game date before jump
        </li>
        <li><span class="parameter">new_date</span>
         (Date) Game date after time jump
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (boolean) true if emergency has been skipped
    </ol>




</dd>
    <dt>
    <a name = "World:getReputationImpact"></a>
    <strong>World:getReputationImpact (hospital)</strong>
    </dt>
    <dd>
    Computes the impact of hospital reputation on the spawn rate.
 The relation between reputation and its impact is linear.
 Returns a percentage (as a float):
     1% if reputation < 253
    60% if reputation == 400
   100% if reputation == 500
   140% if reputation == 600
   180% if reputation == 700
   300% if reputation == 1000


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">hospital</span>
         (hospital): the hospital used to compute the
reputation impact
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:nextEmergency"></a>
    <strong>World:nextEmergency ()</strong>
    </dt>
    <dd>
    Called when it is time to determine when the next emergency should happen







</dd>
    <dt>
    <a name = "World:scheduleRandomEmergency"></a>
    <strong>World:scheduleRandomEmergency (control)</strong>
    </dt>
    <dd>
    If a level file specifies random emergencies we make the next one as defined by the mean/variance given


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">control</span>
         (table) Contains emergency information from level file
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:computeNextEmergencyDates"></a>
    <strong>World:computeNextEmergencyDates (emergency)</strong>
    </dt>
    <dd>
    Generate the dates for the next emergency


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">emergency</span>
         The next scheduled emergency to take place
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (boolean) true if emergency successfully scheduled
    </ol>




</dd>
    <dt>
    <a name = "World:checkWinningConditions"></a>
    <strong>World:checkWinningConditions (player_no)</strong>
    </dt>
    <dd>
    Checks if all goals have been achieved or if the player has lost.
 Returns a table that always contains a state string ("win", "lose" or "nothing").
 If the state is "lose", the table also contains a reason string,
 which corresponds to the criterion name the player lost to
 (reputation, balance, percentage_killed) and a number limit which
 corresponds to the limit the player passed.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">player_no</span>
         The index of the player to check in the world's list of hospitals
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:winGame"></a>
    <strong>World:winGame (player_no)</strong>
    </dt>
    <dd>
    Process that the given player number won the game.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">player_no</span>
         (integer) Number of the player who just won.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:getCampaignWinningText"></a>
    <strong>World:getCampaignWinningText (player_no)</strong>
    </dt>
    <dd>
    Finds what text the winning fax should contain, and which choices the player has.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">player_no</span>
         (integer) Which player that will see the message.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

         (string, string, string) Text to show in the fax, text that accompanies
       the "continue"-choice the player has, and whether it is the "return_to_main_menu"
       choice or the "accept_new_level" choice.
    </ol>




</dd>
    <dt>
    <a name = "World:loseGame"></a>
    <strong>World:loseGame (player_no, reason, limit)</strong>
    </dt>
    <dd>
    Cause the player with the player number player_no to lose.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">player_no</span>
         (number) The number of the player which should lose.
        </li>
        <li><span class="parameter">reason</span>
         (string) [optional] The name of the criterion the player lost to.
        </li>
        <li><span class="parameter">limit</span>
         (number) [optional] The number the player went over/under which caused him to lose.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:isTilePartOfNearbyObject"></a>
    <strong>World:isTilePartOfNearbyObject (x, y, distance)</strong>
    </dt>
    <dd>
    Checks whether the given tile is part of a nearby object (walkable tiles
  count as part of the object)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
         X position of the given tile.
        </li>
        <li><span class="parameter">y</span>
         Y position of the given tile.
        </li>
        <li><span class="parameter">distance</span>
         The number of tiles away from the tile to search.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (boolean) Whether the tile is part of a nearby object.
    </ol>




</dd>
    <dt>
    <a name = "World:newFloatingDollarSign"></a>
    <strong>World:newFloatingDollarSign (patient, amount)</strong>
    </dt>
    <dd>
    Setup an animated floating money amount above a patient.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">patient</span>
         Patient to float above.
        </li>
        <li><span class="parameter">amount</span>
         Amount of money to display.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:newObject"></a>
    <strong>World:newObject (id, x, y, flags, name)</strong>
    </dt>
    <dd>
    Creates a new object by finding the object_type from the "id" variable and
  calls its class constructor.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">id</span>
         (string) The unique id of the object to be created.
        </li>
        <li><span class="parameter">x</span>
         X position of the new object.
        </li>
        <li><span class="parameter">y</span>
         Y position of the new object.
        </li>
        <li><span class="parameter">flags</span>
         Flags of the new object.
        </li>
        <li><span class="parameter">name</span>
         Name of the new object.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        The created object.
    </ol>




</dd>
    <dt>
    <a name = "World:isOnMap"></a>
    <strong>World:isOnMap (x, y)</strong>
    </dt>
    <dd>
    Test whether the given coordinate is on the map.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
         (int) X position of the coordinate to test.
        </li>
        <li><span class="parameter">y</span>
         (int) Y position of the coordinate to test.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (boolean) Whether the provided position is on the map.
    </ol>




</dd>
    <dt>
    <a name = "World:willObjectsFootprintTileBeWithinItsAllowedRoomIfLocatedAt"></a>
    <strong>World:willObjectsFootprintTileBeWithinItsAllowedRoomIfLocatedAt (x, y, object, allowed_rooms_id_parameter)</strong>
    </dt>
    <dd>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
         (int) X position of the coordinate to test.
        </li>
        <li><span class="parameter">y</span>
         (int) Y position of the coordinate to test.
        </li>
        <li><span class="parameter">object</span>
         (table) the object to test
        </li>
        <li><span class="parameter">allowed_rooms_id_parameter</span>
         Should be nil when the object is allowed to be placed in any room.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        {within_room, roomId}
    </ol>




</dd>
    <dt>
    <a name = "World:isFootprintTileBuildableOrPassable"></a>
    <strong>World:isFootprintTileBuildableOrPassable (x, y, tile, footprint, requirement_flag, player_id)</strong>
    </dt>
    <dd>
    A footprint tile will either need to be buildable or passable so this function
 checks if its buildable/passable using the tile's appropriate flag and then returns this
 flag's boolean value or false if the tile isn't valid.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>

        </li>
        <li><span class="parameter">y</span>

        </li>
        <li><span class="parameter">tile</span>

        </li>
        <li><span class="parameter">footprint</span>

        </li>
        <li><span class="parameter">requirement_flag</span>

        </li>
        <li><span class="parameter">player_id</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:wouldNonSideObjectBreakPathfindingIfSpawnedAt"></a>
    <strong>World:wouldNonSideObjectBreakPathfindingIfSpawnedAt (x, y, object, objects_orientation, spawn_rooms_id)</strong>
    </dt>
    <dd>
    Check that pathfinding still works, i.e.  that placing the object
 wouldn't disconnect one part of the hospital from another. To do
 this, we provisionally mark the footprint as unpassable (as it will
 become when the object is placed), and then check that the cells
 surrounding the footprint have not had their connectedness changed.



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>

        </li>
        <li><span class="parameter">y</span>

        </li>
        <li><span class="parameter">object</span>

        </li>
        <li><span class="parameter">objects_orientation</span>

        </li>
        <li><span class="parameter">spawn_rooms_id</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:objectPlaced"></a>
    <strong>World:objectPlaced (entity, id)</strong>
    </dt>
    <dd>
    Notifies the world that an object has been placed, notifying
  interested entities in the vicinity of the new arrival.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">entity</span>
         (Entity) The entity that was just placed.
        </li>
        <li><span class="parameter">id</span>
         (optional string) That entity's id.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:removeObjectFromTile"></a>
    <strong>World:removeObjectFromTile (object, x, y)</strong>
    </dt>
    <dd>
    Notify the world of an object being removed from a tile
 See also `World:addObjectToTile`


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">object</span>
         (Object) The object being removed.
        </li>
        <li><span class="parameter">x</span>
         (integer) The X-coordinate of the tile which the object was on
        </li>
        <li><span class="parameter">y</span>
         (integer) The Y-coordinate of the tile which the object was on
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:addObjectToTile"></a>
    <strong>World:addObjectToTile (object, x, y)</strong>
    </dt>
    <dd>
    Notify the world of a new object being placed somewhere in the world
 See also `World:removeObjectFromTile`


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">object</span>
         (Object) The object being placed
        </li>
        <li><span class="parameter">x</span>
         (integer) The X-coordinate of the tile being placed upon
        </li>
        <li><span class="parameter">y</span>
         (integer) The Y-coordinate of the tile being placed upon
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:getObjects"></a>
    <strong>World:getObjects (x, y)</strong>
    </dt>
    <dd>
    Retrieve all objects from a given position.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
         (int) X position of the object to retrieve.
        </li>
        <li><span class="parameter">y</span>
         (int) Y position of the object to retrieve.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:getObject"></a>
    <strong>World:getObject (x, y, id)</strong>
    </dt>
    <dd>
    Retrieve one object from a given position.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
         (int) X position of the object to retrieve.
        </li>
        <li><span class="parameter">y</span>
         (int) Y position of the object to retrieve.
        </li>
        <li><span class="parameter">id</span>
         Id to search, nil gets first object, string gets first object with
 that id, set of strings gets first object that matches an entry in the set.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (Object or nil) The found object, or nil if the object is not found.
    </ol>




</dd>
    <dt>
    <a name = "World:removeAllLitter"></a>
    <strong>World:removeAllLitter (x, y)</strong>
    </dt>
    <dd>
    Remove all cleanable litter from a given tile.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
         (int) X position of the tile to clean.
        </li>
        <li><span class="parameter">y</span>
         (int) Y position of the tile to clean.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:prepareFootprintTilesForBuild"></a>
    <strong>World:prepareFootprintTilesForBuild (object_footprint, x, y)</strong>
    </dt>
    <dd>
    Prepare all tiles of the footprint for build of an object.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">object_footprint</span>
         Footprint of the object being build.
        </li>
        <li><span class="parameter">x</span>
         (int) X position of the object
        </li>
        <li><span class="parameter">y</span>
         (int) Y position of the object
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:prepareRectangleTilesForBuild"></a>
    <strong>World:prepareRectangleTilesForBuild (x, y, w, h)</strong>
    </dt>
    <dd>
    Prepare all tiles in the given rectangle for building a room.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
         (int) Start x position of the area.
        </li>
        <li><span class="parameter">y</span>
         (int) Start y position of the area.
        </li>
        <li><span class="parameter">w</span>
         (int) Number of tiles in x direction.
        </li>
        <li><span class="parameter">h</span>
         (int) Number of tiles in y direction.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:getRoom"></a>
    <strong>World:getRoom (x, y)</strong>
    </dt>
    <dd>
    Get the room at a given tile location.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
         (int) X position of the queried tile.
        </li>
        <li><span class="parameter">y</span>
         (int) Y position of the queried tile.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (Room) Room of the tile, or 'nil'.
    </ol>




</dd>
    <dt>
    <a name = "World:getHospital"></a>
    <strong>World:getHospital (x, y)</strong>
    </dt>
    <dd>
    Get the hospital at a given tile location.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">x</span>
         (int) X position of the queried tile.
        </li>
        <li><span class="parameter">y</span>
         (int) Y position of the queried tile.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        (Hospital) Hospital at the given location or 'nil'.
    </ol>




</dd>
    <dt>
    <a name = "World:getRoomNameAndRequiredStaffName"></a>
    <strong>World:getRoomNameAndRequiredStaffName (room_id)</strong>
    </dt>
    <dd>
    Returns localized name of the room, internal required staff name
 and localized name of staff required.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">room_id</span>

        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:gameLog"></a>
    <strong>World:gameLog (message)</strong>
    </dt>
    <dd>
    Append a message to the game log.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">message</span>
         (string) The message to add.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:dumpGameLog"></a>
    <strong>World:dumpGameLog ()</strong>
    </dt>
    <dd>
    Dump the contents of the game log into a file.
 This is automatically done on each error.







</dd>
    <dt>
    <a name = "World:resetAnimations"></a>
    <strong>World:resetAnimations ()</strong>
    </dt>
    <dd>
    Because the save file only saves one thob per tile if they are more that information
 will be lost.  To solve this after a load we need to set again all the thobs on each tile.







</dd>
    <dt>
    <a name = "World:updateInitialsCache"></a>
    <strong>World:updateInitialsCache ()</strong>
    </dt>
    <dd>
    Refresh cache of letters in current language to be used for staff member's initials







</dd>
    <dt>
    <a name = "World:localiseInitial"></a>
    <strong>World:localiseInitial (profile)</strong>
    </dt>
    <dd>
    Change the staff name first letter to one from the current language
 from the seed (generated here or in staff_profile.lua)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">profile</span>
         (table) The profile of the staff member
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:afterLoad"></a>
    <strong>World:afterLoad (old, new)</strong>
    </dt>
    <dd>
    Let the world react to and old save game.  First it gets the chance to
 do things for itself, and then it calls corresponding functions for
 the hospitals, entities and rooms in that order.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">old</span>
         The old version of the save game.
        </li>
        <li><span class="parameter">new</span>
         The current version of the save game format.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "World:date"></a>
    <strong>World:date ()</strong>
    </dt>
    <dd>
    Get todays date.



    <h3>Returns:</h3>
    <ol>

        (Date) Current game date.
    </ol>




</dd>
    <dt>
    <a name = "World:getCampaignData"></a>
    <strong>World:getCampaignData ()</strong>
    </dt>
    <dd>
    Collect the settings that should be reused in the next world



    <h3>Returns:</h3>
    <ol>

        (table) world and hospital campaign data
    </ol>




</dd>
    <dt>
    <a name = "World:setCampaignData"></a>
    <strong>World:setCampaignData (campaign_data)</strong>
    </dt>
    <dd>
    Restore the settings from the previous world


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">campaign_data</span>
         (table) world and hospital campaign data
        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/lunarmodules/LDoc">LDoc TESTING</a></i>
<i style="float:right;">Last updated 2015-01-01 12:00:00 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
